The "selfish gene" hypothesis challenges traditional ideas of evolution by proposing that evolution actually occurs at the genetic level, not the individual or group level. The selfish gene theory argues that genes act in self-interested ways to maximize their own survival and replication, even if that results in some cost to the individual organism. This theory seems to contradict the existence of altruistic behaviors that help others at a cost to oneself. However, further developments in evolutionary theory, including kin selection, reciprocal altruism, and game theory, have provided explanations for how altruistic behaviors can emerge from self-interested genes. 

The selfish gene theory was proposed by Richard Dawkins in 1976. He argued that natural selection acts primarily on genes, not on individuals or groups. Genes that aid their own survival and replication will be selected for over generations, even if they impose some costs on the organism. This suggests that all evolutionary adaptations should benefit genes rather than individuals or groups. At first glance, this theory seems incompatible with altruistic behaviors in which individuals sacrifice some fitness for the benefit of others. By acting in a way that reduces its own probability of survival and reproduction, the altruistic individual is disadvantaging the genes that gave rise to that behavior.

However, altruism can be compatible with the selfish gene theory through kin selection. Kin selection recognizes that relatives share some proportion of their genes. By benefitting relatives, altruistic individuals are actually increasing the probability of survival and replication of genes they share. As long as the benefits to relatives multiplied by the proportion of shared genes outweighs the costs to the altruist, kin selection can favor the spread of altruistic genes. The closer the genetic relationship and the higher the benefit to kin, the more kin selection favors altruism. This is why altruism tends to be strongest toward close family members.

Reciprocal altruism provides another explanation for how selfish genes can give rise to altruistic behavior. Through reciprocal altruism, altruistic acts can benefit the altruist if there is an expectation that the benefit will be reciprocated in the future. When altruists and reciprocators tend to interact repeatedly, natural selection can favor genes for reciprocal altruism because the long-term benefits of reciprocity outweigh the short-term costs. However, there must be a mechanism for detecting cheaters who accept benefits but do not reciprocate to others. Punishing cheaters helps sustain cooperation through reciprocal altruism.

Game theory models, such as the Prisoner's Dilemma, provide a mathematical framework for understanding how altruistic cooperation can emerge from self-interest. In the Prisoner's Dilemma, two players must choose between cooperating or defecting. Mutual cooperation provides the highest reward, but there is an incentive to defect because it provides the highest reward if the other player cooperates. Over repeated interactions, natural selection favors strategies like "tit-for-tat" in which players initially cooperate but then mimic the previous move of their opponent. This strategy helps establish and sustain cooperative relationships that provide benefit for all participants in the long run.

While the selfish gene theory poses challenges to traditional evolutionary explanations of altruism, further theoretical developments have shown how altruistic behaviors can emerge from self-interested genes. Kin selection, reciprocal altruism, and game theory provide mechanisms through which self-interest at the genetic level can translate into altruism at the individual level under certain social and ecological conditions. Altruism is not incompatible with the selfish gene view of evolution and can be seen as an adaptation that helps maximize the spread of certain genes under specific circumstances. Overall, the selfish gene metaphor has provided a foundational shift in how we understand evolution that continues to inspire new insights into the evolution of social behaviors.